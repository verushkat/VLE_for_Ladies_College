!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@angular/core"),require("@angular/fire/auth"),require("firebaseui"),require("firebase/auth"),require("firebase/app"),require("@angular/common")):"function"==typeof define&&define.amd?define("firebaseui-angular",["exports","@angular/core","@angular/fire/auth","firebaseui","firebase/auth","firebase/app","@angular/common"],i):i((e=e||self)["firebaseui-angular"]={},e.ng.core,e.ng.fire.auth,e.firebaseui$1,null,e.firebaseOriginal,e.ng.common)}(this,(function(e,i,r,t,n,a,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var u=function(){return(u=Object.assign||function(e){for(var i,r=1,t=arguments.length;r<t;r++)for(var n in i=arguments[r])Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);return e}).apply(this,arguments)};var o=function(){function e(e){window.firebaseUiInstance||(window.firebaseUiInstance=new t.auth.AuthUI(e.auth)),this.firebaseUiInstance=window.firebaseUiInstance}return e.decorators=[{type:i.Injectable}],e.ctorParameters=function(){return[{type:r.AngularFireAuth}]},e}();var f=function(){function e(e,r,t,n,a){this.angularFireAuth=e,this._firebaseUiConfig=r,this._firebaseUiConfig_Feature=t,this.ngZone=n,this.firebaseUIService=a,this.signInSuccessWithAuthResultCallback=new i.EventEmitter,this.signInFailureCallback=new i.EventEmitter}return Object.defineProperty(e.prototype,"firebaseUiConfig",{get:function(){return u({},this._firebaseUiConfig,this._firebaseUiConfig_Feature)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.subscription=this.angularFireAuth.authState.subscribe((function(i){if(i&&i.isAnonymous||!i){if(0===e.firebaseUiConfig.signInOptions.length)throw new Error("There must be at least one AuthProvider.");e.firebaseUIPopup()}}))},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.getUIAuthConfig=function(){return this.firebaseUiConfig.callbacks||(this._firebaseUiConfig[e.COMPUTED_CALLBACKS]=!0,this._firebaseUiConfig.callbacks=this.getCallbacks()),this.firebaseUiConfig},e.prototype.firebaseUIPopup=function(){var i=this.firebaseUIService.firebaseUiInstance,r=this.getUIAuthConfig(),t=!1;r[e.COMPUTED_CALLBACKS]&&(t=!0,delete r[e.COMPUTED_CALLBACKS]),i.start("#firebaseui-auth-container",r),t&&(this._firebaseUiConfig.callbacks=null)},e.prototype.getCallbacks=function(){var e=this;return{signInSuccessWithAuthResult:function(i,r){return e.ngZone.run((function(){e.signInSuccessWithAuthResultCallback.emit({authResult:i,redirectUrl:r})})),e.firebaseUiConfig.signInSuccessUrl},signInFailure:function(i){return e.ngZone.run((function(){e.signInFailureCallback.emit({code:i.code,credential:i.credential})})),Promise.reject()}}},e.COMPUTED_CALLBACKS="COMPUTED_CALLBACKS",e.decorators=[{type:i.Component,args:[{selector:"firebase-ui",template:'<div id="firebaseui-auth-container"></div>'}]}],e.ctorParameters=function(){return[{type:r.AngularFireAuth},{type:void 0,decorators:[{type:i.Inject,args:["firebaseUIAuthConfig"]}]},{type:void 0,decorators:[{type:i.Inject,args:["firebaseUIAuthConfigFeature"]}]},{type:i.NgZone},{type:o}]},e.propDecorators={signInSuccessWithAuthResultCallback:[{type:i.Output,args:["signInSuccessWithAuthResult"]}],signInFailureCallback:[{type:i.Output,args:["signInFailure"]}]},e}();var c=a,l=t,b=function(){};var g=function(){};var h=function(){function e(){}return e.forRoot=function(i){return{ngModule:e,providers:[{provide:"firebaseUIAuthConfig",useValue:i},{provide:"firebaseUIAuthConfigFeature",useValue:{}}]}},e.forFeature=function(i){return{ngModule:e,providers:[{provide:"firebaseUIAuthConfigFeature",useValue:i}]}},e.decorators=[{type:i.NgModule,args:[{imports:[s.CommonModule],declarations:[f],providers:[o],exports:[f]}]}],e}();e.FirebaseUIModule=h,e.FirebaseUISignInFailure=g,e.FirebaseUISignInSuccessWithAuthResult=b,e.FirebaseuiAngularLibraryComponent=f,e.FirebaseuiAngularLibraryService=o,e.firebase=c,e.firebaseui=l,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=firebaseui-angular.umd.min.js.map