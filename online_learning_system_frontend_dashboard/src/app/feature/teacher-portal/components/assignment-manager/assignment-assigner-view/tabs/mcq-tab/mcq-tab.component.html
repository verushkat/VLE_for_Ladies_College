<div class="row">
    <form [formGroup]="mcqTabForm">
        <div class="col-lg-12">
            <nb-card [nbSpinner]="isLoading" nbSpinnerStatus="primary">
                <nb-card-header>Assign an MCQ Paper</nb-card-header>
                <nb-card-body>
                    <div class="form-group">
                        <label for="assignmentName" class="label">Assignment Name</label><span
                            class="required">*</span>
                        <input id="assignmentName" type="text" formControlName="assignmentName" nbInput
                               fullWidth
                               placeholder="Input Here"
                               [class.status-danger]="isInvalidControl('assignmentName')">
                    </div>
                    <span>Select a student</span>
                    <hr>
                    <ng-data-table
                            [id]="'students_list'"
                            [title]="'Students'"
                            [items]="studentData"
                            [pageable]="true"
                            [showHeader]="true"
                            [rowSelectable]="true"
                            [showRefreshButton]="true"
                            [selectOnRowClick]="true"
                            [showColumnSelector]="true"
                            [showSubstituteRows]="false"
                            (rowSelectChange)="onRowSelectChange($event)"
                            (init)="onInit($event)">
                        <ng-data-table-column
                                [field]="'id'"
                                [title]="'ID'"
                                [width]="80"
                                [visible]="false"
                                [showInColumnSelector]="true">
                        </ng-data-table-column>
                        <ng-data-table-column
                                [field]="'name'"
                                [title]="'Name'"
                                [width]="130"
                                [filterable]="true"
                                [showInColumnSelector]="false">
                        </ng-data-table-column>
                        <ng-data-table-column
                                [field]="'grade'"
                                [title]="'Grade'"
                                [filterable]="true"
                                [width]="100"
                                [showInColumnSelector]="true">
                        </ng-data-table-column>
                    </ng-data-table>
                    <div class="form-group">
                        <app-csv-uploader (onUpload)="onAssignmentUpload($event)"
                                          (onClear)="onFileClear()">
                        </app-csv-uploader>
                    </div>

                    <button [disabled]="!isValidForm()"
                            type="submit" nbButton
                            status="success"
                            (click)="onSubmitClick()"
                            [nbSpinner]="isLoading"
                            nbSpinnerStatus="primary"
                            nbSpinnerSize="tiny"
                            nbSpinnerMessage="">Upload
                    </button>
                    <button type="submit" nbButton
                            status="danger" (click)="onCancelClick()">Cancel
                    </button>
                </nb-card-body>
            </nb-card>
        </div>
    </form>
</div>

